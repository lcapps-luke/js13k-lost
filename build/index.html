<!DOCTYPE html><html lang=en><head><meta charset=utf-8><script src=https://aframe.io/releases/0.6.1/aframe.min.js></script><script>AFRAME.registerComponent("lookat",{schema:{type:"selector",default:"[camera]"},init:function(){this.target=null},update:function(){if(this.data){if(console.log(this.data),!this.data.hasLoaded){var t=this;return t.data.addEventListener("loaded",function(){t.target=t.data.object3D})}this.target=this.data.object3D}},tick:function(){if(this.target){var t=this.el.object3D.parent.worldToLocal(this.target.getWorldPosition()),e=null;this.el.getObject3D("camera")?e.subVectors(this.el.object3D.position,t).add(this.el.object3D.position):e=t,this.el.object3D.lookAt(e)}}}),AFRAME.registerComponent("lost",{init:function(){},tick:function(t,e){}}),AFRAME.registerComponent("navigation",{init:function(){var t=this;this.el&&(console.log(this.el),this.el.addEventListener("click",function(){t.click()}))},click:function(){console.log("Nav node clicked!");var t=this.el.sceneEl.querySelector("#player"),e=this.el.getAttribute("position"),i=t.getAttribute("position");t.setAttribute("position",{x:e.x,y:i.y,z:e.z}),this.el.setAttribute("visible",!1);for(var o=this.el.sceneEl.querySelectorAll("[navigation]"),n=0;n<o.length;n++){var s=o[n];s!==this.el&&s.setAttribute("visible",!0)}}});</script></head><body><a-scene lost><a-sky color=#00AAEE></a-sky><a-entity light="type:directional; castShadow:true;" position="1 1 1"></a-entity><a-entity id=player position="-2.395 1.6 2.221" camera=userHeight:1.6 wasd-controls rotation="-10.657 336.555 0" look-controls><a-entity cursor="fuse: true; fuseTimeout: 1000;" position="0 0 -3" geometry="primitive:circle; radius: 0.2;" material="color: cyan; shader: flat;" scale="0.2 0.2 0.2" raycaster=objects:.clickable><a-animation begin=fusing end=mouseleave easing=ease-in attribute=scale from="1.0 1.0 1.0" to="0.2 0.2 0.2" fill=backwards duration=1000></a-animation></a-entity></a-entity><a-plane rotation="-90 0 0" width=100 height=100 color=#888888 shadow></a-plane><a-box position="-1 0.5 -3" rotation="0 45 0" color=#4CC3D9 shadow="receive: false"></a-box><a-entity position="-8 2 -4" geometry=primitive:circle material=shader:flat;flatShading:true lookat=#player class=clickable navigation></a-entity><a-entity position="4 2 -9" geometry=primitive:circle material=shader:flat;flatShading:true lookat=#player class=clickable navigation></a-entity><a-entity position="3 2 3" geometry=primitive:circle material=shader:flat;flatShading:true lookat=#player class=clickable navigation></a-entity></a-scene></body></html>